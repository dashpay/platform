/* Generated with cbindgen:0.27.0 */

/* Warning, this file is autogenerated by cbindgen. Don't modify this manually. */

#include <stdarg.h>
#include <stdbool.h>
#include <stddef.h>
#include <stdint.h>
#include <stdlib.h>

// Error codes for Swift Dash Platform operations
typedef enum SwiftDashSwiftDashErrorCode {
  // Operation completed successfully
  Success = 0,
  // Invalid parameter passed to function
  InvalidParameter = 1,
  // SDK not initialized or in invalid state
  InvalidState = 2,
  // Network error occurred
  NetworkError = 3,
  // Serialization/deserialization error
  SerializationError = 4,
  // Platform protocol error
  ProtocolError = 5,
  // Cryptographic operation failed
  CryptoError = 6,
  // Resource not found
  NotFound = 7,
  // Operation timed out
  Timeout = 8,
  // Feature not implemented
  NotImplemented = 9,
  // Internal error
  InternalError = 99,
} SwiftDashSwiftDashErrorCode;

// Network types for Dash Platform
typedef enum SwiftDashSwiftDashNetwork {
  Mainnet = 0,
  Testnet = 1,
  Devnet = 2,
  Local = 3,
} SwiftDashSwiftDashNetwork;

// Opaque handle to an SDK instance
typedef struct SwiftDashSDKHandle SwiftDashSDKHandle;

// Error structure for Swift interop
typedef struct SwiftDashSwiftDashError {
  // Error code
  enum SwiftDashSwiftDashErrorCode code;
  // Human-readable error message (null-terminated C string)
  // Caller must free this with swift_dash_error_free
  char *message;
} SwiftDashSwiftDashError;

// Swift result that wraps either success or error
typedef struct SwiftDashSwiftDashResult {
  bool success;
  void *data;
  struct SwiftDashSwiftDashError *error;
} SwiftDashSwiftDashResult;

// Information about a data contract
typedef struct SwiftDashSwiftDashDataContractInfo {
  char *id;
  char *owner_id;
  uint32_t version;
  char *schema_json;
} SwiftDashSwiftDashDataContractInfo;

// Information about a document
typedef struct SwiftDashSwiftDashDocumentInfo {
  char *id;
  char *owner_id;
  char *data_contract_id;
  char *document_type;
  uint64_t revision;
  int64_t created_at;
  int64_t updated_at;
} SwiftDashSwiftDashDocumentInfo;

// Information about an identity
typedef struct SwiftDashSwiftDashIdentityInfo {
  char *id;
  uint64_t balance;
  uint64_t revision;
  uint32_t public_keys_count;
} SwiftDashSwiftDashIdentityInfo;

// Result of a credit transfer operation
typedef struct SwiftDashSwiftDashTransferCreditsResult {
  uint64_t amount;
  char *recipient_id;
  uint8_t *transaction_data;
  size_t transaction_data_len;
} SwiftDashSwiftDashTransferCreditsResult;

// Binary data container for results
typedef struct SwiftDashSwiftDashBinaryData {
  uint8_t *data;
  size_t len;
} SwiftDashSwiftDashBinaryData;

// Configuration for the Swift Dash Platform SDK
typedef struct SwiftDashSwiftDashSDKConfig {
  enum SwiftDashSwiftDashNetwork network;
  const char *dapi_addresses;
} SwiftDashSwiftDashSDKConfig;

// Settings for put operations
typedef struct SwiftDashSwiftDashPutSettings {
  uint64_t connect_timeout_ms;
  uint64_t timeout_ms;
  uint32_t retries;
  bool ban_failed_address;
  uint64_t identity_nonce_stale_time_s;
  uint16_t user_fee_increase;
  bool allow_signing_with_any_security_level;
  bool allow_signing_with_any_purpose;
  uint64_t wait_timeout_ms;
} SwiftDashSwiftDashPutSettings;

// Swift-compatible signer interface
//
// This represents a callback-based signer for iOS/Swift applications.
// The actual signer implementation will be provided by the iOS app.
// Type alias for signing callback
typedef unsigned char *(*SwiftDashSwiftSignCallback)(const unsigned char *identity_public_key_bytes,
                                                     size_t identity_public_key_len,
                                                     const unsigned char *data,
                                                     size_t data_len,
                                                     size_t *result_len);

// Type alias for can_sign callback
typedef bool (*SwiftDashSwiftCanSignCallback)(const unsigned char *identity_public_key_bytes,
                                              size_t identity_public_key_len);

// Swift signer configuration
typedef struct SwiftDashSwiftDashSigner {
  SwiftDashSwiftSignCallback sign_callback;
  SwiftDashSwiftCanSignCallback can_sign_callback;
} SwiftDashSwiftDashSigner;

// Token information
typedef struct SwiftDashSwiftDashTokenInfo {
  char *contract_id;
  char *name;
  char *symbol;
  uint64_t total_supply;
  uint8_t decimals;
} SwiftDashSwiftDashTokenInfo;

// Initialize the Swift SDK library.
// This should be called once at app startup before using any other functions.
void swift_dash_sdk_init(void);

// Get the version of the Swift Dash SDK library
const char *swift_dash_sdk_version(void);

// Fetch a data contract by ID
char *swift_dash_data_contract_fetch(const struct SwiftDashSDKHandle *sdk_handle,
                                     const char *contract_id);

// Get data contract history
char *swift_dash_data_contract_get_history(const struct SwiftDashSDKHandle *sdk_handle,
                                           const char *contract_id,
                                           uint32_t limit,
                                           uint32_t offset);

// Create a new data contract (simplified - returns not implemented)
struct SwiftDashSwiftDashResult swift_dash_data_contract_create(const struct SwiftDashSDKHandle *sdk_handle,
                                                                const char *schema_json,
                                                                const char *owner_id);

// Update an existing data contract (simplified - returns not implemented)
struct SwiftDashSwiftDashResult swift_dash_data_contract_update(const struct SwiftDashSDKHandle *sdk_handle,
                                                                const char *contract_id,
                                                                const char *schema_json,
                                                                uint32_t version);

// Free data contract info structure
void swift_dash_data_contract_info_free(struct SwiftDashSwiftDashDataContractInfo *info);

// Fetch a document by ID (simplified - returns not implemented)
char *swift_dash_document_fetch(const struct SwiftDashSDKHandle *sdk_handle,
                                const char *data_contract_id,
                                const char *document_type,
                                const char *document_id);

// Search for documents (simplified - returns not implemented)
char *swift_dash_document_search(const struct SwiftDashSDKHandle *sdk_handle,
                                 const char *data_contract_id,
                                 const char *document_type,
                                 const char *query_json,
                                 uint32_t limit);

// Create a new document (simplified - returns not implemented)
struct SwiftDashSwiftDashResult swift_dash_document_create(const struct SwiftDashSDKHandle *sdk_handle,
                                                           const char *data_contract_id,
                                                           const char *document_type,
                                                           const char *properties_json,
                                                           const char *identity_id);

// Update an existing document (simplified - returns not implemented)
struct SwiftDashSwiftDashResult swift_dash_document_update(const struct SwiftDashSDKHandle *sdk_handle,
                                                           const char *document_id,
                                                           const char *properties_json,
                                                           uint64_t revision);

// Delete a document (simplified - returns not implemented)
struct SwiftDashSwiftDashResult swift_dash_document_delete(const struct SwiftDashSDKHandle *sdk_handle,
                                                           const char *document_id);

// Free document info structure
void swift_dash_document_info_free(struct SwiftDashSwiftDashDocumentInfo *info);

// Free an error message
void swift_dash_error_free(struct SwiftDashSwiftDashError *error);

// Free a C string allocated by Swift SDK
void swift_dash_string_free(char *s);

// Free bytes allocated by callback functions
void swift_dash_bytes_free(uint8_t *bytes, size_t len);

// Fetch an identity by ID
char *swift_dash_identity_fetch(const struct SwiftDashSDKHandle *sdk_handle,
                                const char *identity_id);

// Get identity balance
uint64_t swift_dash_identity_get_balance(const struct SwiftDashSDKHandle *sdk_handle,
                                         const char *identity_id);

// Resolve identity name
char *swift_dash_identity_resolve_name(const struct SwiftDashSDKHandle *sdk_handle,
                                       const char *name);

// Transfer credits (simplified implementation)
struct SwiftDashSwiftDashResult swift_dash_identity_transfer_credits(const struct SwiftDashSDKHandle *sdk_handle,
                                                                     const char *from_identity_id,
                                                                     const char *to_identity_id,
                                                                     uint64_t amount,
                                                                     const uint8_t *private_key,
                                                                     size_t private_key_len);

// Create a new identity (mock for now)
struct SwiftDashSwiftDashResult swift_dash_identity_create(const struct SwiftDashSDKHandle *sdk_handle,
                                                           const uint8_t *public_key,
                                                           size_t public_key_len);

// Free identity info structure
void swift_dash_identity_info_free(struct SwiftDashSwiftDashIdentityInfo *info);

// Free transfer result structure
void swift_dash_transfer_credits_result_free(struct SwiftDashSwiftDashTransferCreditsResult *result);

// Free binary data structure
void swift_dash_binary_data_free(struct SwiftDashSwiftDashBinaryData *data);

// Create a new SDK instance
struct SwiftDashSDKHandle *swift_dash_sdk_create(struct SwiftDashSwiftDashSDKConfig config);

// Destroy an SDK instance
void swift_dash_sdk_destroy(struct SwiftDashSDKHandle *handle);

// Get the network the SDK is configured for
enum SwiftDashSwiftDashNetwork swift_dash_sdk_get_network(const struct SwiftDashSDKHandle *handle);

// Get SDK version
const char *swift_dash_sdk_get_version(void);

// Create default settings for put operations
struct SwiftDashSwiftDashPutSettings swift_dash_put_settings_default(void);

// Create default config for mainnet
struct SwiftDashSwiftDashSDKConfig swift_dash_sdk_config_mainnet(void);

// Create default config for testnet
struct SwiftDashSwiftDashSDKConfig swift_dash_sdk_config_testnet(void);

// Create default config for local development
struct SwiftDashSwiftDashSDKConfig swift_dash_sdk_config_local(void);

// Create a new signer with callbacks
struct SwiftDashSwiftDashSigner *swift_dash_signer_create(SwiftDashSwiftSignCallback sign_callback,
                                                          SwiftDashSwiftCanSignCallback can_sign_callback);

// Free a signer
void swift_dash_signer_free(struct SwiftDashSwiftDashSigner *signer);

// Test if a signer can sign with a given key
bool swift_dash_signer_can_sign(const struct SwiftDashSwiftDashSigner *signer,
                                const unsigned char *identity_public_key_bytes,
                                size_t identity_public_key_len);

// Sign data with a signer
unsigned char *swift_dash_signer_sign(const struct SwiftDashSwiftDashSigner *signer,
                                      const unsigned char *identity_public_key_bytes,
                                      size_t identity_public_key_len,
                                      const unsigned char *data,
                                      size_t data_len,
                                      size_t *result_len);

// Get token total supply
char *swift_dash_token_get_total_supply(const struct SwiftDashSDKHandle *sdk_handle,
                                        const char *token_contract_id);

// Transfer tokens (simplified - returns not implemented)
struct SwiftDashSwiftDashResult swift_dash_token_transfer(const struct SwiftDashSDKHandle *sdk_handle,
                                                          const char *token_contract_id,
                                                          const char *from_identity_id,
                                                          const char *to_identity_id,
                                                          uint64_t amount);

// Mint tokens (simplified - returns not implemented)
struct SwiftDashSwiftDashResult swift_dash_token_mint(const struct SwiftDashSDKHandle *sdk_handle,
                                                      const char *token_contract_id,
                                                      const char *to_identity_id,
                                                      uint64_t amount);

// Burn tokens (simplified - returns not implemented)
struct SwiftDashSwiftDashResult swift_dash_token_burn(const struct SwiftDashSDKHandle *sdk_handle,
                                                      const char *token_contract_id,
                                                      const char *from_identity_id,
                                                      uint64_t amount);

// Free token info structure
void swift_dash_token_info_free(struct SwiftDashSwiftDashTokenInfo *info);